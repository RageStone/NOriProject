

<html lang="he">
<head>
    <meta charset="utf-8" />
    <title> הרשמה </title>
    <link href="style.css" rel="stylesheet" />

    <script type="text/javascript">
        function IsValid() {

            var day = document.getElementById('day').value;
            var month = document.getElementById('month').value;
            var year = document.getElementById('year').value;

            var firstname = document.getElementById('firstname');
            firstname.style.backgroundColor = "white";

            var lastname = document.getElementById('lastname');
            lastname.style.backgroundColor = "white";

            var email = document.getElementById('email');
            email.style.backgroundColor = "white";

            var username = document.getElementById('username');
            username.style.backgroundColor = "white";

            var password1 = document.getElementById('password1');
            password1.style.backgroundColor = "white";

            var password2 = document.getElementById('password2');
            password2.style.backgroundColor = "white";

            var phonenumber = document.getElementById('phonenumber');
            phonenumber.style.backgroundColor = "white";

            var male = document.getElementById('male');
            var female = document.getElementById('female');
            var terms = document.getElementById('terms');

            var Msg = "";

            // בדיקת הכנסת קלט שם פרטי

            if (firstname.value == '') {
                Msg = "נא למלא שם פרטי <br/>";
                firstname.focus();
                firstname.style.backgroundColor = "red";
            }

            // בדיקת שם עם אותיות בעברית

            /*var hebrewCount = 0;

            for (i = 0; i < firstname.value.length; i++) {
                if ((firstname.value.charAt(i) >= 'א') && (firstname.value.charAt(i) <= 'ת')) {
                    hebrewCount++;
                }
            }

            if (firstname.value.length != hebrewCount) {
                Msg = Msg + "נא למלא שם פרטי בעברית בלבד <br/>";
                firstname.focus();
                firstname.style.backgroundColor = "red";
            }*/

            // בדיקת אורך שם פרטי

            if ((firstname.value.length < 2) || (firstname.value.length > 8)) {
                Msg = Msg + "נא להזין שם פרטי בין 2 ל-8 תווים <br/>";
                firstname.focus();
                firstname.style.backgroundColor = "red";
            }

            // בדיקת הכנסת קלט שם משפחה

            if (lastname.value == '') {
                Msg = Msg + "נא למלא שם משפחה <br/>";
                lastname.focus();
                lastname.style.backgroundColor = "red";
            }

            // בדיקת שם משפחה עם אותיות בעברית בלבד

            /*hebrewCount = 0;

            for (i = 0; i < lastname.value.length; i++) {
                if ((lastname.value.charAt(i) >= 'א') && (lastname.value.charAt(i) <= 'ת')) {
                    hebrewCount++;
                }
            }

            if (lastname.value.length != hebrewCount) {
                Msg = Msg + "נא למלא שם משפחה בעברית בלבד <br/>";
                lastname.focus();
                lastname.style.backgroundColor = "red";
            }*/

            // בדיקת אורך שם משפחה

            if ((lastname.value.length < 2) || (lastname.value.length > 10)) {
                Msg = Msg + "נא להזין שם משפחה בין 2 ל-10 תווים <br/>";
                lastname.focus();
                lastname.style.backgroundColor = "red";
            }

            //בדיקת תקינות תאריך

            switch (month) {
                case '4':
                case '6':
                case '9':
                case '11':
                    if (day == 31)
                        Msg = Msg + "בחודש זה יש 30 ימים </br>";
                    break;
                case '2':
                    if ((year % 4 == 0) && (day > 29))
                        Msg = Msg + "בחודש זה יש רק 29 ימים </br>";
                    else if ((year % 4 != 0) && (day > 28))
                        Msg = Msg + "בחודש זה יש רק 28 ימים </br>";
                    break;
            }

            // בדיקת הכנסת קלט מגדר

            if ((male.checked == false) && (female.checked == false)) {
                Msg = Msg + "בחר מגדר של זכר או נקבה <br/>";
            }

            // בדיקת קלט מספר טלפון

            if (phonenumber.value == '') {
                Msg = Msg + "נא למלא מספר טלפון <br/>";
                phonenumber.focus();
                phonenumber.style.backgroundColor = "red";
            }

            // בדיקת שדה מספרי במספר טלפון

            if (isNaN(phonenumber.value) == true) {
                Msg = Msg + " מספר טלפון חייב להכיל ספרות בלבד<br/>";
                phonenumber.focus();
                phonenumber.style.backgroundColor = "red";
            }

            // בדיקת אורך מספר טלפון

            if (phonenumber.value.length != 7) {
                Msg = Msg + "נא להזין מספר טלפון של 7 ספרות <br/>";
                phonenumber.focus();
                phonenumber.style.backgroundColor = "red";
            }

            // בדיקת קלט כתובת דוא"ל

            if (email.value == '') {
                Msg = Msg + "נא למלא כתובת דואר אלקטרוני <br/>";
                email.focus();
                email.style.backgroundColor = "red";
            }

            // בדיקת תחילת כתובת דוא"ל

            if (isNaN(email.value.charAt(0)) == false) {
                //אם התו הראשון הוא מספר
                Msg = Msg + "אימייל אינו יכול להתחיל מספרה <br/>";
                email.focus();
                email.style.backgroundColor = "red";
            }

            // בדיקות כרוכית

            if (email.value.indexOf('@') < 1) {
                // אם השטרודל לא נמצא, או נמצא במקום הראשון
                Msg = Msg + "אימייל חייב להכיל @ מהתו השני ומעלה <br/>";
                email.focus();
                email.style.backgroundColor = "red";
            }

            if (email.value.lastIndexOf('@') != email.value.indexOf('@')) {
                // אם השטרודל מופיע פעמיים
                Msg = Msg + "אימייל חייב להכיל @ אחד בלבד <br/>";
                email.focus();
                email.style.backgroundColor = "red";
            }

            if (email.value.lastIndexOf('@') > email.value.lastIndexOf('.')) {
                // אם אין נקודה אחרי שטרודל
                Msg = Msg + "אימייל חייב להכיל נקודה אחרי כרוכית <br/>";
                email.focus();
                email.style.backgroundColor = "red";
            }

            // בדיקת קלט שם משתמש

            if (username.value == '') {
                Msg = Msg + "נא למלא שם משתמש <br/>";
                username.focus();
                username.style.backgroundColor = "red";
            }

            // בדיקת אורך שם משתמש

            if ((username.value.length < 4) || (username.value.length > 8)) {
                Msg = Msg + "נא להזין שם משתמש בין 4 ל-8 תווים <br/>";
                username.focus();
                username.style.backgroundColor = "red";
            }

            // בדיקת קלט סיסמה

            if (password1.value == '') {
                Msg = Msg + "נא למלא סיסמה <br/>";
                password1.focus();
                password1.style.backgroundColor = "red";
            }

            // בדיקת אורך סיסמה

            if ((password1.value.length < 4) || (password1.value.length > 8)) {
                Msg = Msg + "נא להזין סיסמה בין 4 ל-8 תווים <br/>";
                password1.focus();
                password1.style.backgroundColor = "red";
            }

            // סיסמה עם ספרות ואותיות

            var charCount = 0; // מונה אותיות
            var numCount = 0; // מונה ספרות

            for (i = 0; i < password1.value.length; i++) {
                if (isNaN(password1.value.charAt(i)) == true)
                    charCount++; // אות

                else
                    numCount++; // ספרה
            }

            if ((charCount == 0) || (numCount == 0)) {
                Msg = Msg + "סיסמה חייבת להכיל גם ספרות וגם אותיות <br/>";
                password1.focus();
                password1.style.backgroundColor = "red";
            }

            // אימות סיסמה

            if (password1.value != password2.value) {
                Msg = Msg + "אימות סיסמה נכשל <br/>";
                password2.focus();
                password2.style.backgroundColor = "red";
            }

            // בדיקת אישור תנאי שימוש

            if (terms.checked == false) {
                Msg = Msg + "נא לאשר את תנאי השימוש והפרטיות<br/>";
            }

            document.getElementById('ErrorSummary').innerHTML = Msg;
            if (Msg == "") {
                return true;
            }

            else {
                return false;
            }
        }
    </script>
</head>

<body>
    <h1> הרשמה </h1>
    <br />
    <form name="register" action="NewUser.aspx" onsubmit="return IsValid()" method="post">
        <div class="registration">
            שם פרטי
            <input type="text" name="firstname" id="firstname" value="" /> <br /> <br />
            שם משפחה
            <input type="text" name="lastname" id="lastname" value="" /> <br /> <br />
            תאריך לידה
            <input type="date" name="date" id="date" value=""/><br /> <br />

            מין<br />
            <input type="radio" name="gender" id="male" value="male" /> זכר
            <input type="radio" name="gender" id="female" value="female" /> נקבה <br /> <br />
            מספר טלפון
            <input type="text" name="phonenumber" id="phonenumber" value="" />
            
            <br /> <br />
            כתובת דוא"ל
            <input type="email" name="email" id="email" value="" /> <br /> <br />
            שם משתמש
            <input type="text" name="username" id="username" value="" /> <br /> <br />
            סיסמה
            <input type="password" name="password1" id="password1" value="" /> <br /> <br />
            אימות סיסמה
            <input type="password" name="password2" id="password2" value="" /> <br /> <br />
            <input type="checkbox" name="terms" id="terms" value="agree" /> אני מאשר/ת את תנאי השימוש והפרטיות
            <br />
            <br />
            <input type="submit" name="submit" id="submit" value="שלח" />
            <input type="reset" value="אפס" />
        </div>
        <div class="ErrorSummary" id="ErrorSummary"></div>
    </form>

</body>
</html>